(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const x=document.getElementById("categories"),S=document.getElementById("full-list"),d=document.getElementById("category-input"),I=document.getElementById("start-time-input"),w=document.getElementById("add-category"),L=document.getElementById("remove-category"),k=document.getElementById("add-task"),v=document.getElementById("export-json"),O=document.getElementById("export-csv"),D=document.getElementById("delete-all"),y=document.getElementById("temporary-output"),B=["Socializing","Taking Classes","Studying","Transporting","Eating","Errands","YouTube","Other Distraction"];let s=B,a=[];function p(){localStorage.setItem("categories",JSON.stringify(s)),x&&s.forEach(o=>{const e=document.createElement("option");e.innerHTML=o,x.appendChild(e)})}function h(){if(!a||(localStorage.setItem("tasks",JSON.stringify(a)),!S))return;S.innerHTML="";const o=new Date,e=o.getDate(),r=o.getMonth()+1,i=o.getFullYear();a.filter(t=>t[0].year===i&&t[0].month===r&&t[0].day===e).sort((t,n)=>t[0].hour!==n[0].hour?t[0].hour-n[0].hour:t[0].minute-n[0].minute).forEach(t=>{const n=document.createElement("tr"),c=t[0].hour.toString().padStart(2,"0"),E=t[0].minute.toString().padStart(2,"0"),g=t[1];n.innerHTML=`<td class="border-2">${c}:${E}</td><td class="border-2">${g}</td>`;const l=document.createElement("button");l.classList.add("w-8","h-8","bg-rose-700","text-white","font-bold","rounded"),l.textContent="-",l.addEventListener("click",b=>{if(b.preventDefault(),!confirm("Do you really want to remove this task?"))return;const u=[{year:i,month:r,day:e,hour:t[0].hour,minute:t[0].minute},g],m=a.map(f=>{for(let $ of Object.keys(f[0]))if(f[0][$]!==u[0][$])return!1;return f[1]===u[1]}).indexOf(!0);a.splice(m,1),h()}),n.appendChild(l),S.appendChild(n)})}window==null||window.addEventListener("load",()=>{localStorage.getItem("categories")!==null&&(s=JSON.parse(localStorage.getItem("categories"))),localStorage.getItem("tasks")!==null&&(a=JSON.parse(localStorage.getItem("tasks"))),p(),h()});w==null||w.addEventListener("click",o=>{if(o.preventDefault(),!d){console.warn("Element with id `category-input` not found!");return}const e=d.value.trim();s.indexOf(e)===-1&&confirm(`Do you really want to add "${e}" to the categories?`)&&(s.push(e),p())});L==null||L.addEventListener("click",o=>{if(o.preventDefault(),!d){console.warn("Element with id `category-input` not found!");return}const e=d.value.trim(),r=s.indexOf(e);r!==-1&&confirm(`Do you really want to remove "${e}" from the categories?`)&&(s.splice(r,1),p())});k==null||k.addEventListener("click",o=>{o.preventDefault();const e=d==null?void 0:d.value.trim();if(s.indexOf(e)===-1){alert(`"${e}" is not a valid category. Add it before you use it.`);return}const r=I==null?void 0:I.value.trim();if(r.length===0){alert("Input the start time before adding the task.");return}const i=new Date,[t,n]=r.split(":"),c=+t,E=+n,g=i.getDate(),l=i.getMonth()+1,u=[{year:i.getFullYear(),month:l,day:g,hour:c,minute:E},e];a.every(m=>{for(let f of Object.keys(m[0]))if(m[0][f]!==u[0][f])return!0;return m[1]!==u[1]})&&a.push(u),h()});v==null||v.addEventListener("click",o=>{o.preventDefault();const e=JSON.stringify(a);confirm("Copy the output to the clipboard?")&&(navigator.clipboard.writeText(e),y&&(y.textContent=e))});O==null||O.addEventListener("click",o=>{o.preventDefault();let e=`Start Time,Category
`;a.forEach(r=>{const i=`${r[0].year.toString().padStart(4,"0")}-${r[0].month.toString().padStart(2,"0")}-${r[0].day.toString().padStart(2,"0")} ${r[0].hour.toString().padStart(2,"0")}:${r[0].minute.toString().padStart(2,"0")}:00,${r[1]}`;e+=i+`
`}),confirm("Copy the output to the clipboard?")&&(navigator.clipboard.writeText(e),y&&(y.textContent=e))});D==null||D.addEventListener("click",o=>{o.preventDefault(),confirm("Are you sure you want to delete ALL store tasks and categories?")&&(localStorage.removeItem("categories"),localStorage.removeItem("tasks"),s=B,a=[],p(),h())});
